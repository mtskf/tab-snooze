import{c as Q,r as c,h as W,p as F,j as e,s as X,P as y,I as Y,e as w,m as ee,q as se,n as te,o as ae,a as x,y as ne,B as D,S as oe,w as re,x as ie}from"./index.js";/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var N="Tabs",[ce]=W(N,[F]),_=F(),[de,A]=ce(N),L=c.forwardRef((s,a)=>{const{__scopeTabs:t,value:r,onValueChange:u,defaultValue:m,orientation:d="horizontal",dir:f,activationMode:g="automatic",...h}=s,o=se(f),[n,i]=te({prop:r,onChange:u,defaultProp:m??"",caller:N});return e.jsx(de,{scope:t,baseId:ae(),value:n,onValueChange:i,orientation:d,dir:o,activationMode:g,children:e.jsx(y.div,{dir:o,"data-orientation":d,...h,ref:a})})});L.displayName=N;var V="TabsList",P=c.forwardRef((s,a)=>{const{__scopeTabs:t,loop:r=!0,...u}=s,m=A(V,t),d=_(t);return e.jsx(X,{asChild:!0,...d,orientation:m.orientation,dir:m.dir,loop:r,children:e.jsx(y.div,{role:"tablist","aria-orientation":m.orientation,...u,ref:a})})});P.displayName=V;var $="TabsTrigger",G=c.forwardRef((s,a)=>{const{__scopeTabs:t,value:r,disabled:u=!1,...m}=s,d=A($,t),f=_(t),g=H(d.baseId,r),h=K(d.baseId,r),o=r===d.value;return e.jsx(Y,{asChild:!0,...f,focusable:!u,active:o,children:e.jsx(y.button,{type:"button",role:"tab","aria-selected":o,"aria-controls":h,"data-state":o?"active":"inactive","data-disabled":u?"":void 0,disabled:u,id:g,...m,ref:a,onMouseDown:w(s.onMouseDown,n=>{!u&&n.button===0&&n.ctrlKey===!1?d.onValueChange(r):n.preventDefault()}),onKeyDown:w(s.onKeyDown,n=>{[" ","Enter"].includes(n.key)&&d.onValueChange(r)}),onFocus:w(s.onFocus,()=>{const n=d.activationMode!=="manual";!o&&!u&&n&&d.onValueChange(r)})})})});G.displayName=$;var B="TabsContent",O=c.forwardRef((s,a)=>{const{__scopeTabs:t,value:r,forceMount:u,children:m,...d}=s,f=A(B,t),g=H(f.baseId,r),h=K(f.baseId,r),o=r===f.value,n=c.useRef(o);return c.useEffect(()=>{const i=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(i)},[]),e.jsx(ee,{present:u||o,children:({present:i})=>e.jsx(y.div,{"data-state":o?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":g,hidden:!i,id:h,tabIndex:0,...d,ref:a,style:{...s.style,animationDuration:n.current?"0s":void 0},children:i&&m})})});O.displayName=B;function H(s,a){return`${s}-trigger-${a}`}function K(s,a){return`${s}-content-${a}`}var le=L,q=P,U=G,Z=O;const ue=le,J=c.forwardRef(({className:s,...a},t)=>e.jsx(q,{ref:t,className:x("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a}));J.displayName=q.displayName;const C=c.forwardRef(({className:s,...a},t)=>e.jsx(U,{ref:t,className:x("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a}));C.displayName=U.displayName;const S=c.forwardRef(({className:s,...a},t)=>e.jsx(Z,{ref:t,className:x("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a}));S.displayName=Z.displayName;const b=c.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:x("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a}));b.displayName="Card";const k=c.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:x("flex flex-col space-y-1.5 p-6",s),...a}));k.displayName="CardHeader";const z=c.forwardRef(({className:s,...a},t)=>e.jsx("h3",{ref:t,className:x("text-2xl font-semibold leading-none tracking-tight",s),...a}));z.displayName="CardTitle";const R=c.forwardRef(({className:s,...a},t)=>e.jsx("p",{ref:t,className:x("text-sm text-muted-foreground",s),...a}));R.displayName="CardDescription";const I=c.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:x("p-6 pt-0",s),...a}));I.displayName="CardContent";const me=c.forwardRef(({className:s,...a},t)=>e.jsx("div",{ref:t,className:x("flex items-center p-6 pt-0",s),...a}));me.displayName="CardFooter";const j=c.forwardRef(({className:s,type:a,...t},r)=>e.jsx("input",{type:a,className:x("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...t}));j.displayName="Input";function fe(){const[s,a]=c.useState({}),[t,r]=c.useState({}),[u,m]=c.useState("snoozed-tabs");c.useEffect(()=>{chrome.storage.local.get(["snoozedTabs","settings"],n=>{n.snoozedTabs&&a(n.snoozedTabs),n.settings?r(n.settings):ne().then(r)});const o=(n,i)=>{i==="local"&&(n.snoozedTabs&&a(n.snoozedTabs.newValue||{}),n.settings&&r(n.settings.newValue||{}))};return chrome.storage.onChanged.addListener(o),()=>chrome.storage.onChanged.removeListener(o)},[]);const d=(o,n)=>{const i={...t,[o]:n};r(i),chrome.storage.local.set({settings:i}),chrome.runtime.sendMessage({action:"updateBadgeText"})},f=o=>{chrome.runtime.sendMessage({action:"removeSnoozedTab",tab:o})},g=()=>{confirm("Are you sure you want to clear all snoozed tabs?")&&chrome.storage.local.set({snoozedTabs:{tabCount:0}})},h=()=>{const o=Object.keys(s).sort(),n=[];return o.forEach(i=>{if(i==="tabCount")return;const l=s[i];if(!l||l.length===0)return;const p=new Date(parseInt(i)),M=p.toDateString();let v=n.find(T=>T.key===M);v||(v={key:M,date:p,items:[]},n.push(v)),l.forEach(T=>{v.items.push({...T,popTime:parseInt(i)})})}),n.length===0?e.jsx("div",{className:"text-center p-8 text-muted-foreground",children:"No snoozed tabs."}):n.map(i=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 ml-1",children:xe(i.date)}),e.jsx("div",{className:"grid gap-2",children:i.items.map((l,p)=>e.jsxs(b,{className:"flex flex-row items-center p-3 justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[l.favicon&&e.jsx("img",{src:l.favicon,className:"w-4 h-4",alt:""}),e.jsxs("div",{className:"flex flex-col overflow-hidden",children:[e.jsx("a",{href:l.url,target:"_blank",rel:"noreferrer",className:"text-sm font-medium truncate hover:underline block max-w-[400px]",children:l.title}),e.jsxs("span",{className:"text-xs text-muted-foreground flex gap-2",children:[e.jsx("span",{children:l.url?new URL(l.url).hostname:"Unknown"}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:ge(l.popTime)})]})]})]}),e.jsx(D,{variant:"ghost",size:"icon",onClick:()=>f(l),children:e.jsx(E,{className:"h-4 w-4"})})]},`${l.url}-${l.creationTime}-${p}`))})]},i.key))};return e.jsxs("div",{className:"container max-w-3xl py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Snooooze"}),e.jsxs(ue,{value:u,onValueChange:m,className:"w-full",children:[e.jsxs(J,{className:"mb-4",children:[e.jsx(C,{value:"snoozed-tabs",children:"Snoozed"}),e.jsx(C,{value:"settings",children:"Settings"})]}),e.jsx(S,{value:"snoozed-tabs",children:e.jsxs(b,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(z,{children:"Snoozed"}),e.jsx(R,{children:"Manage your snoozed tabs."})]}),s.tabCount>0&&e.jsxs(D,{variant:"destructive",size:"sm",onClick:g,children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Clear All"]})]}),e.jsx(I,{children:h()})]})}),e.jsx(S,{value:"settings",children:e.jsxs(b,{children:[e.jsxs(k,{children:[e.jsx(z,{children:"Settings"}),e.jsx(R,{children:"Configure your snoozing preferences."})]}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Start Day"}),e.jsx(j,{value:t["start-day"]||"",onChange:o=>d("start-day",o.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: 9:00 AM"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"End Day"}),e.jsx(j,{value:t["end-day"]||"",onChange:o=>d("end-day",o.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Timezone"}),e.jsx(j,{value:t.timezone||"",placeholder:Intl.DateTimeFormat().resolvedOptions().timeZone,onChange:o=>d("timezone",o.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: Region/City (e.g. Asia/Tokyo). Leave empty to use system default."})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("label",{className:"text-sm font-medium",children:"Open in New Tab"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Open snoozed tabs in a new tab instead of window."})]}),e.jsx(oe,{checked:t["open-new-tab"]==="true",onCheckedChange:o=>d("open-new-tab",o?"true":"false")})]})]})]})})]})]})}function xe(s){return s.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}function ge(s){return new Date(s).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"})}re.createRoot(document.getElementById("root")).render(e.jsx(ie.StrictMode,{children:e.jsx(fe,{})}));
